<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Knights TV</title>
    <link rel="stylesheet" href="css/style.css"> <!-- Changed to style.css -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet">
    <script src="https://embed.twitch.tv/embed/v1.js"></script>

    <!-- Meta Title -->
    <meta property="og:title" content="Knights TV">
    <!-- Meta Description -->
    <meta property="og:description" content="The Best Place to watch Rise Dishonored Streams with High Resolution, Dedicated for Full Screen, Low latency. Fast redirects and social links for everyone. Contributors accessable and usable to promote both Rise Dishonored and the current Streamers playing the game">
    <!-- Meta Image (The image to display in Discord embeds) -->
    <meta property="og:image" content="https://media.discordapp.net/attachments/1352346206528868383/1372914925415956530/kiroshi.gif?ex=685403a9&is=6852b229&hm=fd4bda642535bc3b683d68184157b00b1413de599ad24616a23fed733a198aa3&=">
    <!-- Meta URL for the page -->
    <meta property="og:url" content="https://knightstv.live">
    <!-- Meta Type for social media sharing -->
    <meta property="og:type" content="website">
    <!-- Meta Color for the browser's theme color -->
    <meta name="theme-color" content="#bbe5ff">
</head>
<body>
    <section class="navbar">
        <div class="container">
            <div class="logo">
                <img src="images/winton.gif" alt="Logo">
                <div class="drop" id="menuDrop">â†“</div>
            </div>

            <div class="dropdown-menu" id="dropdownMenu">
                <ul>
                    <li><a href="#streams">Streams</a></li>
                    <li><a href="#about">About Knights TV</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="risendishonored.html">Rise Dishonored Home</a></li> <!-- Example if it's a separate HTML -->
                </ul>
            </div>

            <nav>
                <ul id="navbar-main">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Redeem</a></li>
                    <li><a href="#">Support</a></li>
                </ul>
            </nav>

            <div class="empty"></div>
            <div id="discord">
                <a href="https://discord.gg/DAXbU23nda">
                    <img src="images/discord.png" alt="Discord" style="width: 50px; height: auto;">
                </a>
            </div>
        </div>
    </section>

    <div id="player-container">
        <div id="twitch-embed"></div>
        <div class="nav-buttons">
            <button id="prevBtn" aria-label="Previous Stream">&lt;</button>
            <button id="nextBtn" aria-label="Next Stream">&gt;</button>
        </div>
    </div>

    <div class="footer">
        <a href="form.html">Want to stream here? Request access</a>
    </div>

    <script>
        const channels = ['vncuu', 'riotgames', 'summit1g'];
        let currentIndex = 0;
        let currentPlayer;

        function loadStream(channel) {
            if (currentPlayer) {
                document.getElementById('twitch-embed').innerHTML = '';
            }
            currentPlayer = new Twitch.Embed("twitch-embed", {
                width: "100%",
                height: "100%",
                channel: channel,
                layout: "video",
                autoplay: true,
                parent: [window.location.hostname]
            });
        }

        loadStream(channels[currentIndex]);

        document.getElementById('prevBtn').addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + channels.length) % channels.length;
            loadStream(channels[currentIndex]);
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % channels.length;
            loadStream(channels[currentIndex]);
        });

        // Dropdown menu toggle
        const menuDrop = document.getElementById('menuDrop');
        const dropdownMenu = document.getElementById('dropdownMenu');

        menuDrop.addEventListener('click', () => {
            dropdownMenu.classList.toggle('show');
        });

        // Close dropdown when clicking outside
        window.addEventListener('click', (event) => {
            if (!menuDrop.contains(event.target) && !dropdownMenu.contains(event.target)) {
                dropdownMenu.classList.remove('show');
            }
        });
    </script>
</body>
</html>